(()=>{"use strict";var __webpack_modules__={63:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n;// ./src/assets/images/background-image.jpg\n/* harmony default export */ const background_image = (__webpack_require__.p + "assets/images/b433f9d3f3d21c4d77cd8d830a3ee2d9.jpg");\n;// ./src/modules/Header.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Header = /*#__PURE__*/function () {\n  function Header() {\n    _classCallCheck(this, Header);\n  }\n  _createClass(Header, [{\n    key: "renderHeader",\n    value:\n    // DOM methods\n    function renderHeader(location) {\n      var header = document.createElement(\'header\');\n      header.innerHTML = "\\n      <div class=\\"bg-image\\" style=\\"background-image: url(".concat(background_image, ")\\"></div>\\n      <h1>Build Your Reading List</h1>\\n    ");\n      document.querySelector(location).appendChild(header);\n    }\n  }]);\n  return Header;\n}();\n/* harmony default export */ const modules_Header = (Header);\n;// ./src/modules/Footer.js\nfunction Footer_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction Footer_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction Footer_createClass(Constructor, protoProps, staticProps) { if (protoProps) Footer_defineProperties(Constructor.prototype, protoProps); if (staticProps) Footer_defineProperties(Constructor, staticProps); return Constructor; }\nvar Footer = /*#__PURE__*/function () {\n  function Footer() {\n    Footer_classCallCheck(this, Footer);\n  }\n  Footer_createClass(Footer, [{\n    key: "renderFooter",\n    value:\n    // DOM methods\n    function renderFooter(location) {\n      var footer = document.createElement(\'footer\');\n      footer.innerHTML = "Created by <a href=\\"https://autumnchris.github.io/portfolio\\" target=\\"_blank\\">Autumn Bullard</a> &copy; ".concat(new Date().getFullYear());\n      document.querySelector(location).appendChild(footer);\n    }\n  }]);\n  return Footer;\n}();\n/* harmony default export */ const modules_Footer = (Footer);\n;// ./src/utils/getLocalStorage.js\nfunction getLocalStorage(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n;// ./src/utils/setToLocalStorage.js\nfunction setToLocalStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n;// ./src/utils/getReadingList.js\n\n\nfunction getReadingList(value) {\n  if (value) setToLocalStorage(\'readingList\', value);\n  return getLocalStorage(\'readingList\') || [];\n}\n;// ./src/modules/Sidebar.js\nfunction Sidebar_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction Sidebar_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction Sidebar_createClass(Constructor, protoProps, staticProps) { if (protoProps) Sidebar_defineProperties(Constructor.prototype, protoProps); if (staticProps) Sidebar_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Sidebar = /*#__PURE__*/function () {\n  function Sidebar() {\n    Sidebar_classCallCheck(this, Sidebar);\n  }\n  Sidebar_createClass(Sidebar, [{\n    key: "renderReadingListStats",\n    value:\n    // DOM methods\n    function renderReadingListStats(location) {\n      var readingListStats = document.createElement(\'div\');\n      readingListStats.classList.add(\'reading-list-stats\');\n      readingListStats.innerHTML = "\\n      <div class=\\"stat\\"><span class=\\"stat-label\\">Books</span> ".concat(getReadingList().length, "</div>\\n      <div class=\\"stat\\"><span class=\\"stat-label\\">Read</span> ").concat(getReadingList().filter(function (book) {\n        return book.read;\n      }).length, "</div>\\n      <div class=\\"stat\\"><span class=\\"stat-label\\">Unread</span> ").concat(getReadingList().filter(function (book) {\n        return !book.read;\n      }).length, "</div>\\n    ");\n      document.querySelector(location).appendChild(readingListStats);\n    }\n  }, {\n    key: "renderSidebar",\n    value: function renderSidebar(location) {\n      var sidebar = document.createElement(\'aside\');\n      sidebar.classList.add(\'col\', \'sidebar\');\n      sidebar.innerHTML = "\\n      <div class=\\"button-group\\">\\n        <button type=\\"button\\" class=\\"button add-book-button\\"><span class=\\"icon fa-solid fa-plus\\" aria-hidden=\\"true\\"></span> Add Book</button>\\n      </div>\\n    ";\n      document.querySelector(location).appendChild(sidebar);\n      this.renderReadingListStats(\'.sidebar\');\n    }\n  }, {\n    key: "removeSidebar",\n    value: function removeSidebar(location) {\n      var sidebar = document.querySelector("".concat(location, " .sidebar"));\n      sidebar ? document.querySelector(location).removeChild(sidebar) : null;\n    }\n  }]);\n  return Sidebar;\n}();\n/* harmony default export */ const modules_Sidebar = (Sidebar);\n;// ./src/modules/InfoMessage.js\nfunction InfoMessage_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction InfoMessage_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction InfoMessage_createClass(Constructor, protoProps, staticProps) { if (protoProps) InfoMessage_defineProperties(Constructor.prototype, protoProps); if (staticProps) InfoMessage_defineProperties(Constructor, staticProps); return Constructor; }\nvar InfoMessage = /*#__PURE__*/function () {\n  function InfoMessage() {\n    InfoMessage_classCallCheck(this, InfoMessage);\n  }\n  InfoMessage_createClass(InfoMessage, [{\n    key: "renderInfoMessage",\n    value:\n    // DOM methods\n    function renderInfoMessage(message, location) {\n      var infoMessage = document.createElement(\'p\');\n      infoMessage.classList.add(\'message\', \'info-message\');\n      infoMessage.innerHTML = "<span class=\\"fa-solid fa-circle-info fa-lg fa-fw\\" aria-hidden=\\"true\\"></span> ".concat(message);\n      document.querySelector(location).appendChild(infoMessage);\n    }\n  }]);\n  return InfoMessage;\n}();\n/* harmony default export */ const modules_InfoMessage = (InfoMessage);\n;// ./src/modules/ReadingList.js\nfunction ReadingList_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction ReadingList_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction ReadingList_createClass(Constructor, protoProps, staticProps) { if (protoProps) ReadingList_defineProperties(Constructor.prototype, protoProps); if (staticProps) ReadingList_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar ReadingList = /*#__PURE__*/function () {\n  function ReadingList() {\n    ReadingList_classCallCheck(this, ReadingList);\n    this.infoMessage = new modules_InfoMessage();\n    this.sidebar = new modules_Sidebar();\n  }\n  ReadingList_createClass(ReadingList, [{\n    key: "deleteBook",\n    value: function deleteBook(readingListData, bookID) {\n      if (confirm(\'Are you sure you want to remove this book from your reading list?\')) {\n        readingListData = readingListData.filter(function (book) {\n          return book.id !== Number(bookID);\n        });\n        this.sidebar.removeSidebar(\'.reading-list-container\');\n        this.removeReadingListContent(\'.reading-list-container\');\n        getReadingList(readingListData);\n        this.sidebar.renderSidebar(\'.reading-list-container\');\n        this.renderReadingListContent(readingListData, \'.reading-list-container\');\n      }\n    }\n  }, {\n    key: "toggleRead",\n    value: function toggleRead(event, readingListData, bookID) {\n      if (event.type === \'click\' && !event.target.matches(\'input[type=checkbox]\')) return;\n      if (event.key === \'Enter\') {\n        event.preventDefault();\n        document.getElementById("read-".concat(bookID)).checked = !document.getElementById("read-".concat(bookID)).checked;\n      }\n      if (event.key === \'Enter\' || event.type === \'click\') {\n        readingListData = readingListData.map(function (book) {\n          if (book.id === Number(bookID)) book.read = !book.read;\n          return book;\n        });\n        this.sidebar.removeSidebar(\'.reading-list-container\');\n        this.removeReadingListContent(\'.reading-list-container\');\n        getReadingList(readingListData);\n        this.sidebar.renderSidebar(\'.reading-list-container\');\n        this.renderReadingListContent(readingListData, \'.reading-list-container\');\n      }\n    }\n\n    // DOM methods\n  }, {\n    key: "renderBooks",\n    value: function renderBooks(readingListData) {\n      var readingList = document.querySelector(\'.reading-list\');\n      readingList.innerHTML = readingListData.sort(function (a, b) {\n        return a.title.toLowerCase().localeCompare(b.title.toLowerCase());\n      }).map(function (book) {\n        return "\\n        <div class=\\"book-card\\">\\n          <div class=\\"row\\">\\n            <div class=\\"title\\">".concat(book.title, "</div>\\n            <button type=\\"button\\" class=\\"button delete-book-button\\" data-id=\\"").concat(book.id, "\\" aria-label=\\"delete book ").concat(book.title, " by ").concat(book.author, "\\" title=\\"Delete\\">\\n              <span class=\\"fa-solid fa-trash fa-sm icon\\"></span>\\n            </button>\\n          </div>\\n          <div class=\\"row\\">\\n            <div class=\\"book-info author\\"><span class=\\"book-info-label\\">by </span>").concat(book.author, "</div>\\n            <div class=\\"book-info pages\\"><span class=\\"book-info-label\\">Pages </span>").concat(book.pages, "</div>\\n            <form novalidate>\\n              <div class=\\"form-group\\">\\n                <label class=\\"check-label\\" for=\\"read-").concat(book.id, "\\">Read\\n                  <input type=\\"checkbox\\" name=\\"readValue\\" tabindex=\\"-1\\" data-id=\\"").concat(book.id, "\\" id=\\"read-").concat(book.id, "\\" autocomplete=\\"off\\" ").concat(book.read ? \'checked\' : \'\', " />\\n                  <span class=\\"checkmark\\" tabindex=\\"0\\" data-id=\\"").concat(book.id, "\\"></span>\\n                </label>\\n              </div>\\n            </form>\\n          </div>\\n        </div>\\n      ");\n      }).join(\'\');\n    }\n  }, {\n    key: "renderReadingList",\n    value: function renderReadingList(readingListData, location) {\n      var readingList = document.createElement(\'div\');\n      readingList.classList.add(\'reading-list\');\n      document.querySelector(location).appendChild(readingList);\n      this.renderBooks(readingListData);\n    }\n  }, {\n    key: "renderReadingListContent",\n    value: function renderReadingListContent(readingListData, location) {\n      var readingListContent = document.createElement(\'div\');\n      readingListContent.classList.add(\'col\', \'reading-list-content\');\n      document.querySelector(location).appendChild(readingListContent);\n      if (readingListData.length === 0) {\n        this.infoMessage.renderInfoMessage(\'You currently have no books in your reading list. Click the Add Book button to get started.\', \'.reading-list-content\');\n      } else {\n        this.renderReadingList(readingListData, \'.reading-list-content\');\n      }\n    }\n  }, {\n    key: "removeReadingListContent",\n    value: function removeReadingListContent(location) {\n      var readingListContent = document.querySelector("".concat(location, " .reading-list-content"));\n      readingListContent ? document.querySelector(location).removeChild(readingListContent) : null;\n    }\n  }]);\n  return ReadingList;\n}();\n/* harmony default export */ const modules_ReadingList = (ReadingList);\n;// ./src/modules/ErrorMessage.js\nfunction ErrorMessage_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction ErrorMessage_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction ErrorMessage_createClass(Constructor, protoProps, staticProps) { if (protoProps) ErrorMessage_defineProperties(Constructor.prototype, protoProps); if (staticProps) ErrorMessage_defineProperties(Constructor, staticProps); return Constructor; }\nvar ErrorMessage = /*#__PURE__*/function () {\n  function ErrorMessage() {\n    ErrorMessage_classCallCheck(this, ErrorMessage);\n  }\n  ErrorMessage_createClass(ErrorMessage, [{\n    key: "renderErrorMessage",\n    value:\n    // DOM methods\n    function renderErrorMessage(message, location) {\n      var errorMessage = document.createElement(\'p\');\n      errorMessage.classList.add(\'message\', \'error-message\');\n      errorMessage.innerHTML = "<span class=\\"fa-solid fa-circle-exclamation fa-lg fa-fw\\" aria-hidden=\\"true\\"></span> ".concat(message);\n      document.querySelector(location).appendChild(errorMessage);\n    }\n  }, {\n    key: "removeErrorMessage",\n    value: function removeErrorMessage(location) {\n      var errorMessage = document.querySelector("".concat(location, " .error-message"));\n      errorMessage ? document.querySelector(location).removeChild(errorMessage) : null;\n    }\n  }]);\n  return ErrorMessage;\n}();\n/* harmony default export */ const modules_ErrorMessage = (ErrorMessage);\n;// ./src/modules/Book.js\nfunction Book_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nvar Book = function Book(title, author, pages, read, bookID) {\n  Book_classCallCheck(this, Book);\n  this.title = title;\n  this.author = author;\n  this.pages = pages;\n  this.read = read;\n  this.id = bookID;\n};\n/* harmony default export */ const modules_Book = (Book);\n;// ./src/modules/BookFormModal.js\nfunction BookFormModal_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction BookFormModal_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction BookFormModal_createClass(Constructor, protoProps, staticProps) { if (protoProps) BookFormModal_defineProperties(Constructor.prototype, protoProps); if (staticProps) BookFormModal_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar BookFormModal = /*#__PURE__*/function () {\n  function BookFormModal() {\n    BookFormModal_classCallCheck(this, BookFormModal);\n    this.errorMessage = new modules_ErrorMessage();\n    this.readingList = new modules_ReadingList();\n    this.sidebar = new modules_Sidebar();\n    this.formValues = {\n      title: \'\',\n      author: \'\',\n      pages: \'\',\n      read: false\n    };\n  }\n  BookFormModal_createClass(BookFormModal, [{\n    key: "handleChange",\n    value: function handleChange(event) {\n      var value = event.target.type === \'checkbox\' ? event.target.checked : event.target.value;\n      this.formValues[event.target.name] = value;\n    }\n  }, {\n    key: "handleKeyDown",\n    value: function handleKeyDown(event) {\n      if (event.key === \'Enter\') {\n        event.preventDefault();\n        document.getElementById(event.target.dataset.inputId).checked = !document.getElementById(event.target.dataset.inputId).checked;\n        this.formValues.read = document.getElementById(event.target.dataset.inputId).checked;\n      }\n    }\n  }, {\n    key: "handleSubmit",\n    value: function handleSubmit(event, formValues) {\n      event.preventDefault();\n      this.errorMessage.removeErrorMessage(\'#modal .modal-body\');\n      formValues.title = formValues.title.trim();\n      formValues.author = formValues.author.trim();\n      formValues.pages = formValues.pages.trim();\n      if (!formValues.title) {\n        this.errorMessage.renderErrorMessage(\'A book title is required to add a new book.\', \'#modal .modal-body\');\n      } else if (!formValues.author) {\n        this.errorMessage.renderErrorMessage(\'An author is required to add a new book.\', \'#modal .modal-body\');\n      } else if (!formValues.pages) {\n        this.errorMessage.renderErrorMessage(\'The number of pages is required to add a new book.\', \'#modal .modal-body\');\n      } else if (isNaN(formValues.pages) || formValues.pages <= 0) {\n        this.errorMessage.renderErrorMessage(\'The number of pages must be a number greater than 0.\', \'#modal .modal-body\');\n      } else {\n        this.addNewBook(formValues);\n        this.removeBookFormModal(\'main\');\n        this.formValues = {\n          title: \'\',\n          author: \'\',\n          pages: \'\',\n          read: false\n        };\n      }\n    }\n  }, {\n    key: "addNewBook",\n    value: function addNewBook(formValues) {\n      var readingListData = getReadingList();\n      var newBook = new modules_Book(formValues.title, formValues.author, formValues.pages, formValues.read, Date.now());\n      this.sidebar.removeSidebar(\'.reading-list-container\');\n      this.readingList.removeReadingListContent(\'.reading-list-container\');\n      readingListData.push(newBook);\n      getReadingList(readingListData);\n      this.sidebar.renderSidebar(\'.reading-list-container\');\n      this.readingList.renderReadingListContent(readingListData, \'.reading-list-container\');\n    }\n\n    // DOM methods\n  }, {\n    key: "renderBookFormModal",\n    value: function renderBookFormModal(location) {\n      var bookFormModal = document.createElement(\'div\');\n      bookFormModal.setAttribute(\'id\', \'modal\');\n      bookFormModal.classList.add(\'modal\');\n      bookFormModal.innerHTML = "\\n      <div class=\\"modal-content\\">\\n        <div class=\\"modal-header\\">Add New Book</div>\\n        <div class=\\"modal-body\\">\\n          <form class=\\"new-book-form\\" novalidate>\\n            <div class=\\"form-group\\">\\n              <label for=\\"title-value\\">Title</label>\\n              <input type=\\"text\\" class=\\"title-value\\" name=\\"title\\" value=\\"".concat(this.formValues.title, "\\" id=\\"title-value\\" autocomplete=\\"off\\" required />\\n            </div>\\n            <div class=\\"form-group\\">\\n              <label for=\\"author-value\\">Author</label>\\n              <input type=\\"text\\" class=\\"author-value\\" name=\\"author\\" value=\\"").concat(this.formValues.author, "\\" id=\\"author-value\\" autocomplete=\\"off\\" required />\\n            </div>\\n            <div class=\\"form-group\\">\\n              <label for=\\"pages-value\\">Number of Pages</label>\\n              <input type=\\"text\\" class=\\"pages-value\\" name=\\"pages\\" inputmode=\\"numeric\\" value=\\"").concat(this.formValues.pages, "\\" id=\\"pages-value\\" autocomplete=\\"off\\" required />\\n            </div>\\n            <div class=\\"form-group\\">\\n              <label class=\\"check-label\\" for=\\"read-value\\">Read\\n                <input type=\\"checkbox\\" name=\\"read\\" tabindex=\\"-1\\" id=\\"read-value\\" ").concat(this.formValues.read ? \'checked\' : \'\', " autocomplete=\\"off\\" />\\n                <span class=\\"checkmark\\" tabindex=\\"0\\" data-input-id=\\"read-value\\"></span>\\n              </label>\\n            </div>\\n            <div class=\\"button-group\\">\\n              <button type=\\"submit\\" class=\\"button modal-button\\">Add</button>\\n              <button type=\\"button\\" class=\\"button modal-button cancel\\">Cancel</button>\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n    ");\n      document.querySelector(location).appendChild(bookFormModal);\n      document.querySelector(\'body\').classList.add(\'modal-open\');\n    }\n  }, {\n    key: "removeBookFormModal",\n    value: function removeBookFormModal(location) {\n      var bookFormModal = document.querySelector("".concat(location, " #modal"));\n      bookFormModal ? document.querySelector(location).removeChild(bookFormModal) : null;\n      document.querySelector(\'body\').classList.remove(\'modal-open\');\n    }\n  }]);\n  return BookFormModal;\n}();\n/* harmony default export */ const modules_BookFormModal = (BookFormModal);\n;// ./src/App.js\nfunction App_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\nfunction App_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\nfunction App_createClass(Constructor, protoProps, staticProps) { if (protoProps) App_defineProperties(Constructor.prototype, protoProps); if (staticProps) App_defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar App = /*#__PURE__*/function () {\n  function App() {\n    App_classCallCheck(this, App);\n    this.header = new modules_Header();\n    this.footer = new modules_Footer();\n    this.sidebar = new modules_Sidebar();\n    this.readingList = new modules_ReadingList();\n    this.bookFormModal = new modules_BookFormModal();\n    this.renderApp();\n    this.events();\n  }\n\n  // Event listeners\n  App_createClass(App, [{\n    key: "events",\n    value: function events() {\n      var _this = this;\n      document.addEventListener(\'click\', function (event) {\n        var element = event.target;\n        element.matches(\'.sidebar .add-book-button\') ? _this.bookFormModal.renderBookFormModal(\'main\') : null;\n        element.matches(\'#modal .modal-button.cancel\') ? _this.bookFormModal.removeBookFormModal(\'main\') : null;\n        element.matches(\'#modal\') ? _this.bookFormModal.removeBookFormModal(\'main\') : null;\n        element.matches(\'.book-card .delete-book-button\') ? _this.readingList.deleteBook(getReadingList(), element.dataset.id) : null;\n        element.matches(\'.book-card .check-label input[type=checkbox]\') ? _this.readingList.toggleRead(event, getReadingList(), element.dataset.id) : null;\n      });\n      document.addEventListener(\'change\', function (event) {\n        var element = event.target;\n        element.matches(\'#modal .new-book-form .form-group input\') ? _this.bookFormModal.handleChange(event) : null;\n      });\n      document.addEventListener(\'submit\', function (event) {\n        var element = event.target;\n        element.matches(\'#modal .new-book-form\') ? _this.bookFormModal.handleSubmit(event, {\n          title: document.getElementById(\'title-value\').value,\n          author: document.getElementById(\'author-value\').value,\n          pages: document.getElementById(\'pages-value\').value,\n          read: document.getElementById(\'read-value\').checked\n        }) : null;\n      });\n      document.addEventListener(\'keydown\', function (event) {\n        var element = event.target;\n        document.querySelector(\'#modal\') && event.key === \'Escape\' ? _this.bookFormModal.removeBookFormModal(\'main\') : null;\n        element.matches(\'#modal .new-book-form .checkmark\') ? _this.bookFormModal.handleKeyDown(event) : null;\n        element.matches(\'.book-card .checkmark\') ? _this.readingList.toggleRead(event, getReadingList(), element.dataset.id) : null;\n      });\n    }\n\n    // DOM methods\n  }, {\n    key: "renderApp",\n    value: function renderApp() {\n      this.header.renderHeader(\'#app\');\n      this.renderMain(\'#app\');\n      this.footer.renderFooter(\'#app\');\n      this.sidebar.renderSidebar(\'.reading-list-container\');\n      this.readingList.renderReadingListContent(getReadingList(), \'.reading-list-container\');\n    }\n  }, {\n    key: "renderMain",\n    value: function renderMain(location) {\n      var main = document.createElement(\'main\');\n      main.innerHTML = "<div class=\\"reading-list-container\\"></div>";\n      document.querySelector(location).appendChild(main);\n    }\n  }]);\n  return App;\n}();\n/* harmony default export */ const src_App = (App);\n;// ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/index.html\n/* harmony default export */ const cjsname_name_ext_src = (__webpack_require__.p + "index.html");\n;// ./node_modules/file-loader/dist/cjs.js?name=[name].[ext]!./src/favicon.ico\n/* harmony default export */ const favicon = (__webpack_require__.p + "favicon.ico");\n;// ./src/index.js\n\n\n\n\n\n\nnew src_App();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMuanMiLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0VBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhZGluZy1saXN0LXZhbmlsbGEtanMvLi9zcmMvYXNzZXRzL2ltYWdlcy9iYWNrZ3JvdW5kLWltYWdlLmpwZz83NGU4Iiwid2VicGFjazovL3JlYWRpbmctbGlzdC12YW5pbGxhLWpzLy4vc3JjL21vZHVsZXMvSGVhZGVyLmpzP2U4NWMiLCJ3ZWJwYWNrOi8vcmVhZGluZy1saXN0LXZhbmlsbGEtanMvLi9zcmMvbW9kdWxlcy9Gb290ZXIuanM/NDEzZiIsIndlYnBhY2s6Ly9yZWFkaW5nLWxpc3QtdmFuaWxsYS1qcy8uL3NyYy91dGlscy9nZXRMb2NhbFN0b3JhZ2UuanM/ZjIxYyIsIndlYnBhY2s6Ly9yZWFkaW5nLWxpc3QtdmFuaWxsYS1qcy8uL3NyYy91dGlscy9zZXRUb0xvY2FsU3RvcmFnZS5qcz8wNGNjIiwid2VicGFjazovL3JlYWRpbmctbGlzdC12YW5pbGxhLWpzLy4vc3JjL3V0aWxzL2dldFJlYWRpbmdMaXN0LmpzPzQ0YzciLCJ3ZWJwYWNrOi8vcmVhZGluZy1saXN0LXZhbmlsbGEtanMvLi9zcmMvbW9kdWxlcy9TaWRlYmFyLmpzP2I5ZDEiLCJ3ZWJwYWNrOi8vcmVhZGluZy1saXN0LXZhbmlsbGEtanMvLi9zcmMvbW9kdWxlcy9JbmZvTWVzc2FnZS5qcz9jMWNhIiwid2VicGFjazovL3JlYWRpbmctbGlzdC12YW5pbGxhLWpzLy4vc3JjL21vZHVsZXMvUmVhZGluZ0xpc3QuanM/YTNkMiIsIndlYnBhY2s6Ly9yZWFkaW5nLWxpc3QtdmFuaWxsYS1qcy8uL3NyYy9tb2R1bGVzL0Vycm9yTWVzc2FnZS5qcz81MWQ5Iiwid2VicGFjazovL3JlYWRpbmctbGlzdC12YW5pbGxhLWpzLy4vc3JjL21vZHVsZXMvQm9vay5qcz9hZWI4Iiwid2VicGFjazovL3JlYWRpbmctbGlzdC12YW5pbGxhLWpzLy4vc3JjL21vZHVsZXMvQm9va0Zvcm1Nb2RhbC5qcz9kZWZhIiwid2VicGFjazovL3JlYWRpbmctbGlzdC12YW5pbGxhLWpzLy4vc3JjL0FwcC5qcz8zMzI3Iiwid2VicGFjazovL3JlYWRpbmctbGlzdC12YW5pbGxhLWpzLy4vc3JjL2luZGV4Lmh0bWw/NzNjZiIsIndlYnBhY2s6Ly9yZWFkaW5nLWxpc3QtdmFuaWxsYS1qcy8uL3NyYy9mYXZpY29uLmljbz9hZTcwIiwid2VicGFjazovL3JlYWRpbmctbGlzdC12YW5pbGxhLWpzLy4vc3JjL2luZGV4LmpzP2Q5YmUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWFnZXMvYjQzM2Y5ZDNmM2QyMWM0ZDc3Y2Q4ZDgzMGEzZWUyZDkuanBnXCI7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5pbXBvcnQgYmdJbWFnZSBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL2JhY2tncm91bmQtaW1hZ2UuanBnJztcbnZhciBIZWFkZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBIZWFkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhlYWRlcik7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEhlYWRlciwgW3tcbiAgICBrZXk6IFwicmVuZGVySGVhZGVyXCIsXG4gICAgdmFsdWU6XG4gICAgLy8gRE9NIG1ldGhvZHNcbiAgICBmdW5jdGlvbiByZW5kZXJIZWFkZXIobG9jYXRpb24pIHtcbiAgICAgIHZhciBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcbiAgICAgIGhlYWRlci5pbm5lckhUTUwgPSBcIlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImJnLWltYWdlXFxcIiBzdHlsZT1cXFwiYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiLmNvbmNhdChiZ0ltYWdlLCBcIilcXFwiPjwvZGl2PlxcbiAgICAgIDxoMT5CdWlsZCBZb3VyIFJlYWRpbmcgTGlzdDwvaDE+XFxuICAgIFwiKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBIZWFkZXI7XG59KCk7XG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG52YXIgRm9vdGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRm9vdGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGb290ZXIpO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhGb290ZXIsIFt7XG4gICAga2V5OiBcInJlbmRlckZvb3RlclwiLFxuICAgIHZhbHVlOlxuICAgIC8vIERPTSBtZXRob2RzXG4gICAgZnVuY3Rpb24gcmVuZGVyRm9vdGVyKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgZm9vdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9vdGVyJyk7XG4gICAgICBmb290ZXIuaW5uZXJIVE1MID0gXCJDcmVhdGVkIGJ5IDxhIGhyZWY9XFxcImh0dHBzOi8vYXV0dW1uY2hyaXMuZ2l0aHViLmlvL3BvcnRmb2xpb1xcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPkF1dHVtbiBCdWxsYXJkPC9hPiAmY29weTsgXCIuY29uY2F0KG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChmb290ZXIpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRm9vdGVyO1xufSgpO1xuZXhwb3J0IGRlZmF1bHQgRm9vdGVyOyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldExvY2FsU3RvcmFnZShrZXkpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0VG9Mb2NhbFN0b3JhZ2Uoa2V5LCB2YWx1ZSkge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG59IiwiaW1wb3J0IGdldExvY2FsU3RvcmFnZSBmcm9tICcuL2dldExvY2FsU3RvcmFnZSc7XG5pbXBvcnQgc2V0VG9Mb2NhbFN0b3JhZ2UgZnJvbSAnLi9zZXRUb0xvY2FsU3RvcmFnZSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRSZWFkaW5nTGlzdCh2YWx1ZSkge1xuICBpZiAodmFsdWUpIHNldFRvTG9jYWxTdG9yYWdlKCdyZWFkaW5nTGlzdCcsIHZhbHVlKTtcbiAgcmV0dXJuIGdldExvY2FsU3RvcmFnZSgncmVhZGluZ0xpc3QnKSB8fCBbXTtcbn0iLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmltcG9ydCBnZXRSZWFkaW5nTGlzdCBmcm9tICcuLi91dGlscy9nZXRSZWFkaW5nTGlzdCc7XG52YXIgU2lkZWJhciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNpZGViYXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZGViYXIpO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhTaWRlYmFyLCBbe1xuICAgIGtleTogXCJyZW5kZXJSZWFkaW5nTGlzdFN0YXRzXCIsXG4gICAgdmFsdWU6XG4gICAgLy8gRE9NIG1ldGhvZHNcbiAgICBmdW5jdGlvbiByZW5kZXJSZWFkaW5nTGlzdFN0YXRzKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgcmVhZGluZ0xpc3RTdGF0cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcmVhZGluZ0xpc3RTdGF0cy5jbGFzc0xpc3QuYWRkKCdyZWFkaW5nLWxpc3Qtc3RhdHMnKTtcbiAgICAgIHJlYWRpbmdMaXN0U3RhdHMuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJzdGF0XFxcIj48c3BhbiBjbGFzcz1cXFwic3RhdC1sYWJlbFxcXCI+Qm9va3M8L3NwYW4+IFwiLmNvbmNhdChnZXRSZWFkaW5nTGlzdCgpLmxlbmd0aCwgXCI8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJzdGF0XFxcIj48c3BhbiBjbGFzcz1cXFwic3RhdC1sYWJlbFxcXCI+UmVhZDwvc3Bhbj4gXCIpLmNvbmNhdChnZXRSZWFkaW5nTGlzdCgpLmZpbHRlcihmdW5jdGlvbiAoYm9vaykge1xuICAgICAgICByZXR1cm4gYm9vay5yZWFkO1xuICAgICAgfSkubGVuZ3RoLCBcIjwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInN0YXRcXFwiPjxzcGFuIGNsYXNzPVxcXCJzdGF0LWxhYmVsXFxcIj5VbnJlYWQ8L3NwYW4+IFwiKS5jb25jYXQoZ2V0UmVhZGluZ0xpc3QoKS5maWx0ZXIoZnVuY3Rpb24gKGJvb2spIHtcbiAgICAgICAgcmV0dXJuICFib29rLnJlYWQ7XG4gICAgICB9KS5sZW5ndGgsIFwiPC9kaXY+XFxuICAgIFwiKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKHJlYWRpbmdMaXN0U3RhdHMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJTaWRlYmFyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclNpZGViYXIobG9jYXRpb24pIHtcbiAgICAgIHZhciBzaWRlYmFyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXNpZGUnKTtcbiAgICAgIHNpZGViYXIuY2xhc3NMaXN0LmFkZCgnY29sJywgJ3NpZGViYXInKTtcbiAgICAgIHNpZGViYXIuaW5uZXJIVE1MID0gXCJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJidXR0b24tZ3JvdXBcXFwiPlxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidXR0b24gYWRkLWJvb2stYnV0dG9uXFxcIj48c3BhbiBjbGFzcz1cXFwiaWNvbiBmYS1zb2xpZCBmYS1wbHVzXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9zcGFuPiBBZGQgQm9vazwvYnV0dG9uPlxcbiAgICAgIDwvZGl2PlxcbiAgICBcIjtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKHNpZGViYXIpO1xuICAgICAgdGhpcy5yZW5kZXJSZWFkaW5nTGlzdFN0YXRzKCcuc2lkZWJhcicpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVTaWRlYmFyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVNpZGViYXIobG9jYXRpb24pIHtcbiAgICAgIHZhciBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIlwiLmNvbmNhdChsb2NhdGlvbiwgXCIgLnNpZGViYXJcIikpO1xuICAgICAgc2lkZWJhciA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLnJlbW92ZUNoaWxkKHNpZGViYXIpIDogbnVsbDtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFNpZGViYXI7XG59KCk7XG5leHBvcnQgZGVmYXVsdCBTaWRlYmFyOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxudmFyIEluZm9NZXNzYWdlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gSW5mb01lc3NhZ2UoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluZm9NZXNzYWdlKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoSW5mb01lc3NhZ2UsIFt7XG4gICAga2V5OiBcInJlbmRlckluZm9NZXNzYWdlXCIsXG4gICAgdmFsdWU6XG4gICAgLy8gRE9NIG1ldGhvZHNcbiAgICBmdW5jdGlvbiByZW5kZXJJbmZvTWVzc2FnZShtZXNzYWdlLCBsb2NhdGlvbikge1xuICAgICAgdmFyIGluZm9NZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgaW5mb01lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnbWVzc2FnZScsICdpbmZvLW1lc3NhZ2UnKTtcbiAgICAgIGluZm9NZXNzYWdlLmlubmVySFRNTCA9IFwiPHNwYW4gY2xhc3M9XFxcImZhLXNvbGlkIGZhLWNpcmNsZS1pbmZvIGZhLWxnIGZhLWZ3XFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+PC9zcGFuPiBcIi5jb25jYXQobWVzc2FnZSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChpbmZvTWVzc2FnZSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBJbmZvTWVzc2FnZTtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IEluZm9NZXNzYWdlOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuaW1wb3J0IEluZm9NZXNzYWdlIGZyb20gJy4vSW5mb01lc3NhZ2UnO1xuaW1wb3J0IFNpZGViYXIgZnJvbSAnLi9TaWRlYmFyJztcbmltcG9ydCBnZXRSZWFkaW5nTGlzdCBmcm9tICcuLi91dGlscy9nZXRSZWFkaW5nTGlzdCc7XG52YXIgUmVhZGluZ0xpc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBSZWFkaW5nTGlzdCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVhZGluZ0xpc3QpO1xuICAgIHRoaXMuaW5mb01lc3NhZ2UgPSBuZXcgSW5mb01lc3NhZ2UoKTtcbiAgICB0aGlzLnNpZGViYXIgPSBuZXcgU2lkZWJhcigpO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhSZWFkaW5nTGlzdCwgW3tcbiAgICBrZXk6IFwiZGVsZXRlQm9va1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVCb29rKHJlYWRpbmdMaXN0RGF0YSwgYm9va0lEKSB7XG4gICAgICBpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIGJvb2sgZnJvbSB5b3VyIHJlYWRpbmcgbGlzdD8nKSkge1xuICAgICAgICByZWFkaW5nTGlzdERhdGEgPSByZWFkaW5nTGlzdERhdGEuZmlsdGVyKGZ1bmN0aW9uIChib29rKSB7XG4gICAgICAgICAgcmV0dXJuIGJvb2suaWQgIT09IE51bWJlcihib29rSUQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zaWRlYmFyLnJlbW92ZVNpZGViYXIoJy5yZWFkaW5nLWxpc3QtY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMucmVtb3ZlUmVhZGluZ0xpc3RDb250ZW50KCcucmVhZGluZy1saXN0LWNvbnRhaW5lcicpO1xuICAgICAgICBnZXRSZWFkaW5nTGlzdChyZWFkaW5nTGlzdERhdGEpO1xuICAgICAgICB0aGlzLnNpZGViYXIucmVuZGVyU2lkZWJhcignLnJlYWRpbmctbGlzdC1jb250YWluZXInKTtcbiAgICAgICAgdGhpcy5yZW5kZXJSZWFkaW5nTGlzdENvbnRlbnQocmVhZGluZ0xpc3REYXRhLCAnLnJlYWRpbmctbGlzdC1jb250YWluZXInKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9nZ2xlUmVhZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b2dnbGVSZWFkKGV2ZW50LCByZWFkaW5nTGlzdERhdGEsIGJvb2tJRCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdjbGljaycgJiYgIWV2ZW50LnRhcmdldC5tYXRjaGVzKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpKSByZXR1cm47XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVhZC1cIi5jb25jYXQoYm9va0lEKSkuY2hlY2tlZCA9ICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlYWQtXCIuY29uY2F0KGJvb2tJRCkpLmNoZWNrZWQ7XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInIHx8IGV2ZW50LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICAgICAgcmVhZGluZ0xpc3REYXRhID0gcmVhZGluZ0xpc3REYXRhLm1hcChmdW5jdGlvbiAoYm9vaykge1xuICAgICAgICAgIGlmIChib29rLmlkID09PSBOdW1iZXIoYm9va0lEKSkgYm9vay5yZWFkID0gIWJvb2sucmVhZDtcbiAgICAgICAgICByZXR1cm4gYm9vaztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2lkZWJhci5yZW1vdmVTaWRlYmFyKCcucmVhZGluZy1saXN0LWNvbnRhaW5lcicpO1xuICAgICAgICB0aGlzLnJlbW92ZVJlYWRpbmdMaXN0Q29udGVudCgnLnJlYWRpbmctbGlzdC1jb250YWluZXInKTtcbiAgICAgICAgZ2V0UmVhZGluZ0xpc3QocmVhZGluZ0xpc3REYXRhKTtcbiAgICAgICAgdGhpcy5zaWRlYmFyLnJlbmRlclNpZGViYXIoJy5yZWFkaW5nLWxpc3QtY29udGFpbmVyJyk7XG4gICAgICAgIHRoaXMucmVuZGVyUmVhZGluZ0xpc3RDb250ZW50KHJlYWRpbmdMaXN0RGF0YSwgJy5yZWFkaW5nLWxpc3QtY29udGFpbmVyJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRE9NIG1ldGhvZHNcbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJCb29rc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJCb29rcyhyZWFkaW5nTGlzdERhdGEpIHtcbiAgICAgIHZhciByZWFkaW5nTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWFkaW5nLWxpc3QnKTtcbiAgICAgIHJlYWRpbmdMaXN0LmlubmVySFRNTCA9IHJlYWRpbmdMaXN0RGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnRpdGxlLnRvTG93ZXJDYXNlKCkubG9jYWxlQ29tcGFyZShiLnRpdGxlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uIChib29rKSB7XG4gICAgICAgIHJldHVybiBcIlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiYm9vay1jYXJkXFxcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ0aXRsZVxcXCI+XCIuY29uY2F0KGJvb2sudGl0bGUsIFwiPC9kaXY+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidXR0b24gZGVsZXRlLWJvb2stYnV0dG9uXFxcIiBkYXRhLWlkPVxcXCJcIikuY29uY2F0KGJvb2suaWQsIFwiXFxcIiBhcmlhLWxhYmVsPVxcXCJkZWxldGUgYm9vayBcIikuY29uY2F0KGJvb2sudGl0bGUsIFwiIGJ5IFwiKS5jb25jYXQoYm9vay5hdXRob3IsIFwiXFxcIiB0aXRsZT1cXFwiRGVsZXRlXFxcIj5cXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJmYS1zb2xpZCBmYS10cmFzaCBmYS1zbSBpY29uXFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJvb2staW5mbyBhdXRob3JcXFwiPjxzcGFuIGNsYXNzPVxcXCJib29rLWluZm8tbGFiZWxcXFwiPmJ5IDwvc3Bhbj5cIikuY29uY2F0KGJvb2suYXV0aG9yLCBcIjwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJvb2staW5mbyBwYWdlc1xcXCI+PHNwYW4gY2xhc3M9XFxcImJvb2staW5mby1sYWJlbFxcXCI+UGFnZXMgPC9zcGFuPlwiKS5jb25jYXQoYm9vay5wYWdlcywgXCI8L2Rpdj5cXG4gICAgICAgICAgICA8Zm9ybSBub3ZhbGlkYXRlPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY2hlY2stbGFiZWxcXFwiIGZvcj1cXFwicmVhZC1cIikuY29uY2F0KGJvb2suaWQsIFwiXFxcIj5SZWFkXFxuICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJyZWFkVmFsdWVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgZGF0YS1pZD1cXFwiXCIpLmNvbmNhdChib29rLmlkLCBcIlxcXCIgaWQ9XFxcInJlYWQtXCIpLmNvbmNhdChib29rLmlkLCBcIlxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIFwiKS5jb25jYXQoYm9vay5yZWFkID8gJ2NoZWNrZWQnIDogJycsIFwiIC8+XFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNoZWNrbWFya1xcXCIgdGFiaW5kZXg9XFxcIjBcXFwiIGRhdGEtaWQ9XFxcIlwiKS5jb25jYXQoYm9vay5pZCwgXCJcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZm9ybT5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICBcIik7XG4gICAgICB9KS5qb2luKCcnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyUmVhZGluZ0xpc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyUmVhZGluZ0xpc3QocmVhZGluZ0xpc3REYXRhLCBsb2NhdGlvbikge1xuICAgICAgdmFyIHJlYWRpbmdMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICByZWFkaW5nTGlzdC5jbGFzc0xpc3QuYWRkKCdyZWFkaW5nLWxpc3QnKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKHJlYWRpbmdMaXN0KTtcbiAgICAgIHRoaXMucmVuZGVyQm9va3MocmVhZGluZ0xpc3REYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVuZGVyUmVhZGluZ0xpc3RDb250ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclJlYWRpbmdMaXN0Q29udGVudChyZWFkaW5nTGlzdERhdGEsIGxvY2F0aW9uKSB7XG4gICAgICB2YXIgcmVhZGluZ0xpc3RDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICByZWFkaW5nTGlzdENvbnRlbnQuY2xhc3NMaXN0LmFkZCgnY29sJywgJ3JlYWRpbmctbGlzdC1jb250ZW50Jyk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5hcHBlbmRDaGlsZChyZWFkaW5nTGlzdENvbnRlbnQpO1xuICAgICAgaWYgKHJlYWRpbmdMaXN0RGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5pbmZvTWVzc2FnZS5yZW5kZXJJbmZvTWVzc2FnZSgnWW91IGN1cnJlbnRseSBoYXZlIG5vIGJvb2tzIGluIHlvdXIgcmVhZGluZyBsaXN0LiBDbGljayB0aGUgQWRkIEJvb2sgYnV0dG9uIHRvIGdldCBzdGFydGVkLicsICcucmVhZGluZy1saXN0LWNvbnRlbnQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyUmVhZGluZ0xpc3QocmVhZGluZ0xpc3REYXRhLCAnLnJlYWRpbmctbGlzdC1jb250ZW50Jyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVJlYWRpbmdMaXN0Q29udGVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVSZWFkaW5nTGlzdENvbnRlbnQobG9jYXRpb24pIHtcbiAgICAgIHZhciByZWFkaW5nTGlzdENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAucmVhZGluZy1saXN0LWNvbnRlbnRcIikpO1xuICAgICAgcmVhZGluZ0xpc3RDb250ZW50ID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQocmVhZGluZ0xpc3RDb250ZW50KSA6IG51bGw7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBSZWFkaW5nTGlzdDtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IFJlYWRpbmdMaXN0OyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxudmFyIEVycm9yTWVzc2FnZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEVycm9yTWVzc2FnZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXJyb3JNZXNzYWdlKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoRXJyb3JNZXNzYWdlLCBbe1xuICAgIGtleTogXCJyZW5kZXJFcnJvck1lc3NhZ2VcIixcbiAgICB2YWx1ZTpcbiAgICAvLyBET00gbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHJlbmRlckVycm9yTWVzc2FnZShtZXNzYWdlLCBsb2NhdGlvbikge1xuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdtZXNzYWdlJywgJ2Vycm9yLW1lc3NhZ2UnKTtcbiAgICAgIGVycm9yTWVzc2FnZS5pbm5lckhUTUwgPSBcIjxzcGFuIGNsYXNzPVxcXCJmYS1zb2xpZCBmYS1jaXJjbGUtZXhjbGFtYXRpb24gZmEtbGcgZmEtZndcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj48L3NwYW4+IFwiLmNvbmNhdChtZXNzYWdlKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUVycm9yTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFcnJvck1lc3NhZ2UobG9jYXRpb24pIHtcbiAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIiAuZXJyb3ItbWVzc2FnZVwiKSk7XG4gICAgICBlcnJvck1lc3NhZ2UgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvY2F0aW9uKS5yZW1vdmVDaGlsZChlcnJvck1lc3NhZ2UpIDogbnVsbDtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEVycm9yTWVzc2FnZTtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IEVycm9yTWVzc2FnZTsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxudmFyIEJvb2sgPSBmdW5jdGlvbiBCb29rKHRpdGxlLCBhdXRob3IsIHBhZ2VzLCByZWFkLCBib29rSUQpIHtcbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvb2spO1xuICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gIHRoaXMuYXV0aG9yID0gYXV0aG9yO1xuICB0aGlzLnBhZ2VzID0gcGFnZXM7XG4gIHRoaXMucmVhZCA9IHJlYWQ7XG4gIHRoaXMuaWQgPSBib29rSUQ7XG59O1xuZXhwb3J0IGRlZmF1bHQgQm9vazsiLCJmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cbmltcG9ydCBFcnJvck1lc3NhZ2UgZnJvbSAnLi9FcnJvck1lc3NhZ2UnO1xuaW1wb3J0IFJlYWRpbmdMaXN0IGZyb20gJy4vUmVhZGluZ0xpc3QnO1xuaW1wb3J0IFNpZGViYXIgZnJvbSAnLi9TaWRlYmFyJztcbmltcG9ydCBCb29rIGZyb20gJy4vQm9vayc7XG5pbXBvcnQgZ2V0UmVhZGluZ0xpc3QgZnJvbSAnLi4vdXRpbHMvZ2V0UmVhZGluZ0xpc3QnO1xudmFyIEJvb2tGb3JtTW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCb29rRm9ybU1vZGFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb29rRm9ybU1vZGFsKTtcbiAgICB0aGlzLmVycm9yTWVzc2FnZSA9IG5ldyBFcnJvck1lc3NhZ2UoKTtcbiAgICB0aGlzLnJlYWRpbmdMaXN0ID0gbmV3IFJlYWRpbmdMaXN0KCk7XG4gICAgdGhpcy5zaWRlYmFyID0gbmV3IFNpZGViYXIoKTtcbiAgICB0aGlzLmZvcm1WYWx1ZXMgPSB7XG4gICAgICB0aXRsZTogJycsXG4gICAgICBhdXRob3I6ICcnLFxuICAgICAgcGFnZXM6ICcnLFxuICAgICAgcmVhZDogZmFsc2VcbiAgICB9O1xuICB9XG4gIF9jcmVhdGVDbGFzcyhCb29rRm9ybU1vZGFsLCBbe1xuICAgIGtleTogXCJoYW5kbGVDaGFuZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XG4gICAgICB2YXIgdmFsdWUgPSBldmVudC50YXJnZXQudHlwZSA9PT0gJ2NoZWNrYm94JyA/IGV2ZW50LnRhcmdldC5jaGVja2VkIDogZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgdGhpcy5mb3JtVmFsdWVzW2V2ZW50LnRhcmdldC5uYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJoYW5kbGVLZXlEb3duXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXZlbnQudGFyZ2V0LmRhdGFzZXQuaW5wdXRJZCkuY2hlY2tlZCA9ICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChldmVudC50YXJnZXQuZGF0YXNldC5pbnB1dElkKS5jaGVja2VkO1xuICAgICAgICB0aGlzLmZvcm1WYWx1ZXMucmVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGV2ZW50LnRhcmdldC5kYXRhc2V0LmlucHV0SWQpLmNoZWNrZWQ7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVN1Ym1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoZXZlbnQsIGZvcm1WYWx1ZXMpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmVycm9yTWVzc2FnZS5yZW1vdmVFcnJvck1lc3NhZ2UoJyNtb2RhbCAubW9kYWwtYm9keScpO1xuICAgICAgZm9ybVZhbHVlcy50aXRsZSA9IGZvcm1WYWx1ZXMudGl0bGUudHJpbSgpO1xuICAgICAgZm9ybVZhbHVlcy5hdXRob3IgPSBmb3JtVmFsdWVzLmF1dGhvci50cmltKCk7XG4gICAgICBmb3JtVmFsdWVzLnBhZ2VzID0gZm9ybVZhbHVlcy5wYWdlcy50cmltKCk7XG4gICAgICBpZiAoIWZvcm1WYWx1ZXMudGl0bGUpIHtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UucmVuZGVyRXJyb3JNZXNzYWdlKCdBIGJvb2sgdGl0bGUgaXMgcmVxdWlyZWQgdG8gYWRkIGEgbmV3IGJvb2suJywgJyNtb2RhbCAubW9kYWwtYm9keScpO1xuICAgICAgfSBlbHNlIGlmICghZm9ybVZhbHVlcy5hdXRob3IpIHtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UucmVuZGVyRXJyb3JNZXNzYWdlKCdBbiBhdXRob3IgaXMgcmVxdWlyZWQgdG8gYWRkIGEgbmV3IGJvb2suJywgJyNtb2RhbCAubW9kYWwtYm9keScpO1xuICAgICAgfSBlbHNlIGlmICghZm9ybVZhbHVlcy5wYWdlcykge1xuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZS5yZW5kZXJFcnJvck1lc3NhZ2UoJ1RoZSBudW1iZXIgb2YgcGFnZXMgaXMgcmVxdWlyZWQgdG8gYWRkIGEgbmV3IGJvb2suJywgJyNtb2RhbCAubW9kYWwtYm9keScpO1xuICAgICAgfSBlbHNlIGlmIChpc05hTihmb3JtVmFsdWVzLnBhZ2VzKSB8fCBmb3JtVmFsdWVzLnBhZ2VzIDw9IDApIHtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UucmVuZGVyRXJyb3JNZXNzYWdlKCdUaGUgbnVtYmVyIG9mIHBhZ2VzIG11c3QgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDAuJywgJyNtb2RhbCAubW9kYWwtYm9keScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hZGROZXdCb29rKGZvcm1WYWx1ZXMpO1xuICAgICAgICB0aGlzLnJlbW92ZUJvb2tGb3JtTW9kYWwoJ21haW4nKTtcbiAgICAgICAgdGhpcy5mb3JtVmFsdWVzID0ge1xuICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICBhdXRob3I6ICcnLFxuICAgICAgICAgIHBhZ2VzOiAnJyxcbiAgICAgICAgICByZWFkOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGROZXdCb29rXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE5ld0Jvb2soZm9ybVZhbHVlcykge1xuICAgICAgdmFyIHJlYWRpbmdMaXN0RGF0YSA9IGdldFJlYWRpbmdMaXN0KCk7XG4gICAgICB2YXIgbmV3Qm9vayA9IG5ldyBCb29rKGZvcm1WYWx1ZXMudGl0bGUsIGZvcm1WYWx1ZXMuYXV0aG9yLCBmb3JtVmFsdWVzLnBhZ2VzLCBmb3JtVmFsdWVzLnJlYWQsIERhdGUubm93KCkpO1xuICAgICAgdGhpcy5zaWRlYmFyLnJlbW92ZVNpZGViYXIoJy5yZWFkaW5nLWxpc3QtY29udGFpbmVyJyk7XG4gICAgICB0aGlzLnJlYWRpbmdMaXN0LnJlbW92ZVJlYWRpbmdMaXN0Q29udGVudCgnLnJlYWRpbmctbGlzdC1jb250YWluZXInKTtcbiAgICAgIHJlYWRpbmdMaXN0RGF0YS5wdXNoKG5ld0Jvb2spO1xuICAgICAgZ2V0UmVhZGluZ0xpc3QocmVhZGluZ0xpc3REYXRhKTtcbiAgICAgIHRoaXMuc2lkZWJhci5yZW5kZXJTaWRlYmFyKCcucmVhZGluZy1saXN0LWNvbnRhaW5lcicpO1xuICAgICAgdGhpcy5yZWFkaW5nTGlzdC5yZW5kZXJSZWFkaW5nTGlzdENvbnRlbnQocmVhZGluZ0xpc3REYXRhLCAnLnJlYWRpbmctbGlzdC1jb250YWluZXInKTtcbiAgICB9XG5cbiAgICAvLyBET00gbWV0aG9kc1xuICB9LCB7XG4gICAga2V5OiBcInJlbmRlckJvb2tGb3JtTW9kYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyQm9va0Zvcm1Nb2RhbChsb2NhdGlvbikge1xuICAgICAgdmFyIGJvb2tGb3JtTW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGJvb2tGb3JtTW9kYWwuc2V0QXR0cmlidXRlKCdpZCcsICdtb2RhbCcpO1xuICAgICAgYm9va0Zvcm1Nb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbCcpO1xuICAgICAgYm9va0Zvcm1Nb2RhbC5pbm5lckhUTUwgPSBcIlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5BZGQgTmV3IEJvb2s8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgICAgICAgICA8Zm9ybSBjbGFzcz1cXFwibmV3LWJvb2stZm9ybVxcXCIgbm92YWxpZGF0ZT5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcInRpdGxlLXZhbHVlXFxcIj5UaXRsZTwvbGFiZWw+XFxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcInRpdGxlLXZhbHVlXFxcIiBuYW1lPVxcXCJ0aXRsZVxcXCIgdmFsdWU9XFxcIlwiLmNvbmNhdCh0aGlzLmZvcm1WYWx1ZXMudGl0bGUsIFwiXFxcIiBpZD1cXFwidGl0bGUtdmFsdWVcXFwiIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiByZXF1aXJlZCAvPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiYXV0aG9yLXZhbHVlXFxcIj5BdXRob3I8L2xhYmVsPlxcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJhdXRob3ItdmFsdWVcXFwiIG5hbWU9XFxcImF1dGhvclxcXCIgdmFsdWU9XFxcIlwiKS5jb25jYXQodGhpcy5mb3JtVmFsdWVzLmF1dGhvciwgXCJcXFwiIGlkPVxcXCJhdXRob3ItdmFsdWVcXFwiIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiByZXF1aXJlZCAvPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwicGFnZXMtdmFsdWVcXFwiPk51bWJlciBvZiBQYWdlczwvbGFiZWw+XFxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcInBhZ2VzLXZhbHVlXFxcIiBuYW1lPVxcXCJwYWdlc1xcXCIgaW5wdXRtb2RlPVxcXCJudW1lcmljXFxcIiB2YWx1ZT1cXFwiXCIpLmNvbmNhdCh0aGlzLmZvcm1WYWx1ZXMucGFnZXMsIFwiXFxcIiBpZD1cXFwicGFnZXMtdmFsdWVcXFwiIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiByZXF1aXJlZCAvPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjaGVjay1sYWJlbFxcXCIgZm9yPVxcXCJyZWFkLXZhbHVlXFxcIj5SZWFkXFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwicmVhZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiBpZD1cXFwicmVhZC12YWx1ZVxcXCIgXCIpLmNvbmNhdCh0aGlzLmZvcm1WYWx1ZXMucmVhZCA/ICdjaGVja2VkJyA6ICcnLCBcIiBhdXRvY29tcGxldGU9XFxcIm9mZlxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNoZWNrbWFya1xcXCIgdGFiaW5kZXg9XFxcIjBcXFwiIGRhdGEtaW5wdXQtaWQ9XFxcInJlYWQtdmFsdWVcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgIDwvbGFiZWw+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnV0dG9uLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwic3VibWl0XFxcIiBjbGFzcz1cXFwiYnV0dG9uIG1vZGFsLWJ1dHRvblxcXCI+QWRkPC9idXR0b24+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ1dHRvbiBtb2RhbC1idXR0b24gY2FuY2VsXFxcIj5DYW5jZWw8L2J1dHRvbj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPC9mb3JtPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgIFwiKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobG9jYXRpb24pLmFwcGVuZENoaWxkKGJvb2tGb3JtTW9kYWwpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5hZGQoJ21vZGFsLW9wZW4nKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlQm9va0Zvcm1Nb2RhbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVCb29rRm9ybU1vZGFsKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgYm9va0Zvcm1Nb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJcIi5jb25jYXQobG9jYXRpb24sIFwiICNtb2RhbFwiKSk7XG4gICAgICBib29rRm9ybU1vZGFsID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikucmVtb3ZlQ2hpbGQoYm9va0Zvcm1Nb2RhbCkgOiBudWxsO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsLW9wZW4nKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEJvb2tGb3JtTW9kYWw7XG59KCk7XG5leHBvcnQgZGVmYXVsdCBCb29rRm9ybU1vZGFsOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuaW1wb3J0IEhlYWRlciBmcm9tICcuL21vZHVsZXMvSGVhZGVyJztcbmltcG9ydCBGb290ZXIgZnJvbSAnLi9tb2R1bGVzL0Zvb3Rlcic7XG5pbXBvcnQgU2lkZWJhciBmcm9tICcuL21vZHVsZXMvU2lkZWJhcic7XG5pbXBvcnQgUmVhZGluZ0xpc3QgZnJvbSAnLi9tb2R1bGVzL1JlYWRpbmdMaXN0JztcbmltcG9ydCBCb29rRm9ybU1vZGFsIGZyb20gJy4vbW9kdWxlcy9Cb29rRm9ybU1vZGFsJztcbmltcG9ydCBnZXRSZWFkaW5nTGlzdCBmcm9tICcuL3V0aWxzL2dldFJlYWRpbmdMaXN0JztcbnZhciBBcHAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBcHAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFwcCk7XG4gICAgdGhpcy5oZWFkZXIgPSBuZXcgSGVhZGVyKCk7XG4gICAgdGhpcy5mb290ZXIgPSBuZXcgRm9vdGVyKCk7XG4gICAgdGhpcy5zaWRlYmFyID0gbmV3IFNpZGViYXIoKTtcbiAgICB0aGlzLnJlYWRpbmdMaXN0ID0gbmV3IFJlYWRpbmdMaXN0KCk7XG4gICAgdGhpcy5ib29rRm9ybU1vZGFsID0gbmV3IEJvb2tGb3JtTW9kYWwoKTtcbiAgICB0aGlzLnJlbmRlckFwcCgpO1xuICAgIHRoaXMuZXZlbnRzKCk7XG4gIH1cblxuICAvLyBFdmVudCBsaXN0ZW5lcnNcbiAgX2NyZWF0ZUNsYXNzKEFwcCwgW3tcbiAgICBrZXk6IFwiZXZlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV2ZW50cygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgZWxlbWVudC5tYXRjaGVzKCcuc2lkZWJhciAuYWRkLWJvb2stYnV0dG9uJykgPyBfdGhpcy5ib29rRm9ybU1vZGFsLnJlbmRlckJvb2tGb3JtTW9kYWwoJ21haW4nKSA6IG51bGw7XG4gICAgICAgIGVsZW1lbnQubWF0Y2hlcygnI21vZGFsIC5tb2RhbC1idXR0b24uY2FuY2VsJykgPyBfdGhpcy5ib29rRm9ybU1vZGFsLnJlbW92ZUJvb2tGb3JtTW9kYWwoJ21haW4nKSA6IG51bGw7XG4gICAgICAgIGVsZW1lbnQubWF0Y2hlcygnI21vZGFsJykgPyBfdGhpcy5ib29rRm9ybU1vZGFsLnJlbW92ZUJvb2tGb3JtTW9kYWwoJ21haW4nKSA6IG51bGw7XG4gICAgICAgIGVsZW1lbnQubWF0Y2hlcygnLmJvb2stY2FyZCAuZGVsZXRlLWJvb2stYnV0dG9uJykgPyBfdGhpcy5yZWFkaW5nTGlzdC5kZWxldGVCb29rKGdldFJlYWRpbmdMaXN0KCksIGVsZW1lbnQuZGF0YXNldC5pZCkgOiBudWxsO1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJy5ib29rLWNhcmQgLmNoZWNrLWxhYmVsIGlucHV0W3R5cGU9Y2hlY2tib3hdJykgPyBfdGhpcy5yZWFkaW5nTGlzdC50b2dnbGVSZWFkKGV2ZW50LCBnZXRSZWFkaW5nTGlzdCgpLCBlbGVtZW50LmRhdGFzZXQuaWQpIDogbnVsbDtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJyNtb2RhbCAubmV3LWJvb2stZm9ybSAuZm9ybS1ncm91cCBpbnB1dCcpID8gX3RoaXMuYm9va0Zvcm1Nb2RhbC5oYW5kbGVDaGFuZ2UoZXZlbnQpIDogbnVsbDtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJyNtb2RhbCAubmV3LWJvb2stZm9ybScpID8gX3RoaXMuYm9va0Zvcm1Nb2RhbC5oYW5kbGVTdWJtaXQoZXZlbnQsIHtcbiAgICAgICAgICB0aXRsZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlLXZhbHVlJykudmFsdWUsXG4gICAgICAgICAgYXV0aG9yOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0aG9yLXZhbHVlJykudmFsdWUsXG4gICAgICAgICAgcGFnZXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYWdlcy12YWx1ZScpLnZhbHVlLFxuICAgICAgICAgIHJlYWQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWFkLXZhbHVlJykuY2hlY2tlZFxuICAgICAgICB9KSA6IG51bGw7XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2RhbCcpICYmIGV2ZW50LmtleSA9PT0gJ0VzY2FwZScgPyBfdGhpcy5ib29rRm9ybU1vZGFsLnJlbW92ZUJvb2tGb3JtTW9kYWwoJ21haW4nKSA6IG51bGw7XG4gICAgICAgIGVsZW1lbnQubWF0Y2hlcygnI21vZGFsIC5uZXctYm9vay1mb3JtIC5jaGVja21hcmsnKSA/IF90aGlzLmJvb2tGb3JtTW9kYWwuaGFuZGxlS2V5RG93bihldmVudCkgOiBudWxsO1xuICAgICAgICBlbGVtZW50Lm1hdGNoZXMoJy5ib29rLWNhcmQgLmNoZWNrbWFyaycpID8gX3RoaXMucmVhZGluZ0xpc3QudG9nZ2xlUmVhZChldmVudCwgZ2V0UmVhZGluZ0xpc3QoKSwgZWxlbWVudC5kYXRhc2V0LmlkKSA6IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBET00gbWV0aG9kc1xuICB9LCB7XG4gICAga2V5OiBcInJlbmRlckFwcFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJBcHAoKSB7XG4gICAgICB0aGlzLmhlYWRlci5yZW5kZXJIZWFkZXIoJyNhcHAnKTtcbiAgICAgIHRoaXMucmVuZGVyTWFpbignI2FwcCcpO1xuICAgICAgdGhpcy5mb290ZXIucmVuZGVyRm9vdGVyKCcjYXBwJyk7XG4gICAgICB0aGlzLnNpZGViYXIucmVuZGVyU2lkZWJhcignLnJlYWRpbmctbGlzdC1jb250YWluZXInKTtcbiAgICAgIHRoaXMucmVhZGluZ0xpc3QucmVuZGVyUmVhZGluZ0xpc3RDb250ZW50KGdldFJlYWRpbmdMaXN0KCksICcucmVhZGluZy1saXN0LWNvbnRhaW5lcicpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJNYWluXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlck1haW4obG9jYXRpb24pIHtcbiAgICAgIHZhciBtYWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWFpbicpO1xuICAgICAgbWFpbi5pbm5lckhUTUwgPSBcIjxkaXYgY2xhc3M9XFxcInJlYWRpbmctbGlzdC1jb250YWluZXJcXFwiPjwvZGl2PlwiO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihsb2NhdGlvbikuYXBwZW5kQ2hpbGQobWFpbik7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBBcHA7XG59KCk7XG5leHBvcnQgZGVmYXVsdCBBcHA7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImluZGV4Lmh0bWxcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZmF2aWNvbi5pY29cIjsiLCJpbXBvcnQgQXBwIGZyb20gJy4vQXBwJztcbmltcG9ydCAnZmlsZS1sb2FkZXI/bmFtZT1bbmFtZV0uW2V4dF0hLi9pbmRleC5odG1sJztcbmltcG9ydCAnZmlsZS1sb2FkZXI/bmFtZT1bbmFtZV0uW2V4dF0hLi9mYXZpY29uLmljbyc7XG5pbXBvcnQgJ25vcm1hbGl6ZS5jc3MnO1xuaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9jc3MvYWxsLm1pbi5jc3MnO1xuaW1wb3J0ICcuL3N0eWxlc2hlZXRzL3N0eWxlLnNjc3MnO1xubmV3IEFwcCgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///63\n')}},__webpack_require__={};__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(c){if("object"==typeof window)return window}}(),(()=>{var c;__webpack_require__.g.importScripts&&(c=__webpack_require__.g.location+"");var n=__webpack_require__.g.document;if(!c&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(c=n.currentScript.src),!c)){var e=n.getElementsByTagName("script");if(e.length)for(var t=e.length-1;t>-1&&(!c||!/^http(s?):/.test(c));)c=e[t--].src}if(!c)throw new Error("Automatic publicPath is not supported in this browser");c=c.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=c})();var __webpack_exports__={};__webpack_modules__[63](0,__webpack_exports__,__webpack_require__)})();